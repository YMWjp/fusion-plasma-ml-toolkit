# æ ¸èåˆãƒ—ãƒ©ã‚ºãƒæ©Ÿæ¢°å­¦ç¿’ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆ

**Fusion Plasma Machine Learning Toolkit**

---

## æ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€æ ¸èåˆãƒ—ãƒ©ã‚ºãƒã®æ§˜ã€…ãªç¾è±¡ã‚’æ©Ÿæ¢°å­¦ç¿’ã§è§£æã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã€æ©Ÿæ¢°å­¦ç¿’ï¼ˆSVMã€æ·±å±¤å­¦ç¿’ã€å›å¸°åˆ†æç­‰ï¼‰ã‚’ç”¨ã„ãŸåŒ…æ‹¬çš„ãªãƒ‡ãƒ¼ã‚¿åˆ†æãŠã‚ˆã³å¯è¦–åŒ–ã‚’è¡Œã„ã¾ã™ã€‚ä¸»ãªå‡¦ç†å†…å®¹ã¨ã—ã¦ã¯ã€å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®åé›†ã€å‰å‡¦ç†ã€SVM ã«ã‚ˆã‚‹è§£æã€çµæœã®è©•ä¾¡ï¼ˆF1 ã‚¹ã‚³ã‚¢ï¼‰ã€ãŠã‚ˆã³å¤šæ§˜ãªãƒ—ãƒ­ãƒƒãƒˆã®ç”ŸæˆãŒå«ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ©ã‚ºãƒä¸­ã®æ§˜ã€…ãªç‰©ç†ç¾è±¡ã®ç†è§£ã¨äºˆæ¸¬ã‚’è¡Œã„ã¾ã™ã€‚

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
fusion-plasma-ml-toolkit/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ Makefile                   # ä¸€æ‹¬å®Ÿè¡Œç”¨Makefile
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ run_full_analysis.sh       # å®Œå…¨è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ makedata/                  # ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»å‰å‡¦ç†
â”‚   â”‚   â”œâ”€â”€ plasma_data_collector.py     # ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»CSVå‡ºåŠ›
â”‚   â”‚   â”œâ”€â”€ shot_data_visualizer.py      # ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–
â”‚   â”‚   â”œâ”€â”€ hysteresis_plotter.py        # ãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹ãƒ—ãƒ­ãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ classes/              # ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â””â”€â”€ get_params/           # ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å–å¾—
â”‚   â”œâ”€â”€ processed/                # å‡¦ç†æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ raw/                      # ç”Ÿãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ analysis/                 # ãƒ‡ãƒ¼ã‚¿è§£æ
â”‚   â”‚   â”œâ”€â”€ f1_score.py          # F1ã‚¹ã‚³ã‚¢è©•ä¾¡
â”‚   â”‚   â”œâ”€â”€ result_plotting.py   # çµæœãƒ—ãƒ­ãƒƒãƒˆ
â”‚   â”‚   â””â”€â”€ svm_analysis.py      # SVMè§£æ
â”‚   â”œâ”€â”€ preprocessing/            # å‰å‡¦ç†
â”‚   â”‚   â”œâ”€â”€ svm_exhaustive_search.py     # SVMæœ€é©åŒ–
â”‚   â”‚   â””â”€â”€ separation_region_plotter.py # åˆ†é›¢é ˜åŸŸå›³ä½œæˆ
â”‚   â”œâ”€â”€ detection/               # å¤‰åŒ–ç‚¹æ¤œå‡º
â”‚   â”‚   â””â”€â”€ change_detection.py
â”‚   â””â”€â”€ utils/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ common.py
â”œâ”€â”€ outputs/                     # å‡ºåŠ›çµæœ
â”‚   â”œâ”€â”€ plots/                  # ãƒ—ãƒ­ãƒƒãƒˆç”»åƒ
â”‚   â”œâ”€â”€ process/               # å‡¦ç†çµæœ
â”‚   â””â”€â”€ results/              # æœ€çµ‚çµæœ
â”œâ”€â”€ docs/                     # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ README_JP.md         # æ—¥æœ¬èªè©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â””â”€â”€ README_EN.md         # è‹±èªç‰ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ requirements.txt         # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```

---

## å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã«å¿…è¦ãª Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚`requirements.txt`ã‚’ä½¿ç”¨ã—ã¦ä¸€æ‹¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚

```bash
pip install -r requirements.txt
```

ä¸»ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼š

- numpy
- matplotlib
- pandas
- scikit-learn
- docopt
- japanize_matplotlib
- scipy
- joblib

---

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ğŸš€ å®Œå…¨è‡ªå‹•åŒ–å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

```bash
# ç’°å¢ƒæ§‹ç¯‰
pip install -r requirements.txt

# å…¨å‡¦ç†ã‚’è‡ªå‹•å®Ÿè¡Œ
./scripts/run_full_analysis.sh [YYYYMMDD]
```

### ğŸ“‹ æ‰‹å‹•å®Ÿè¡Œ

#### 1. ç’°å¢ƒæ§‹ç¯‰

```bash
pip install -r requirements.txt
```

#### 2. ãƒ‡ãƒ¼ã‚¿åé›†

```bash
cd data/makedata
python plasma_data_collector.py
```

#### 3. SVM è§£æã®å®Ÿè¡Œ

```bash
# å€‹åˆ¥å®Ÿè¡Œ
python src/preprocessing/svm_exhaustive_search.py [YYYYMMDD] [K(1~14)]

# ä¸€æ‹¬å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
cd config
make run [YYYYMMDD]
```

#### 4. çµæœã®å¯è¦–åŒ–ã¨è©•ä¾¡

```bash
# F1ã‚¹ã‚³ã‚¢è©•ä¾¡
python src/analysis/f1_score.py -d [YYYYMMDD]

# çµæœãƒ—ãƒ­ãƒƒãƒˆ
python src/analysis/result_plotting.py

# åˆ†é›¢é ˜åŸŸå›³ä½œæˆ
python src/preprocessing/separation_region_plotter.py
```

---

## ä¸»è¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®èª¬æ˜

### ãƒ‡ãƒ¼ã‚¿åé›†ãƒ»å‰å‡¦ç†

| ãƒ•ã‚¡ã‚¤ãƒ«                                 | èª¬æ˜                           | ä½¿ç”¨æ–¹æ³•                          |
| ---------------------------------------- | ------------------------------ | --------------------------------- |
| `data/makedata/plasma_data_collector.py` | å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã®åé›†ã¨ CSV å‡ºåŠ›    | `python plasma_data_collector.py` |
| `data/makedata/shot_data_visualizer.py`  | ç‰¹å®šã‚·ãƒ§ãƒƒãƒˆç•ªå·ã®ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ– | `python shot_data_visualizer.py`  |
| `data/makedata/hysteresis_plotter.py`    | ãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹ãƒ—ãƒ­ãƒƒãƒˆç”Ÿæˆ       | `python hysteresis_plotter.py`    |

### SVM è§£æ

| ãƒ•ã‚¡ã‚¤ãƒ«                                     | èª¬æ˜                                | ä½¿ç”¨æ–¹æ³•                                     |
| -------------------------------------------- | ----------------------------------- | -------------------------------------------- |
| `src/preprocessing/svm_exhaustive_search.py` | Exhaustive Search ã«ã‚ˆã‚‹ SVM æœ€é©åŒ– | `python svm_exhaustive_search.py [date] [K]` |
| `src/analysis/svm_analysis.py`               | SVM è§£æå®Ÿè¡Œ                        | `python svm_analysis.py [date] [seed]`       |

### çµæœè©•ä¾¡ãƒ»å¯è¦–åŒ–

| ãƒ•ã‚¡ã‚¤ãƒ«                                         | èª¬æ˜                       | ä½¿ç”¨æ–¹æ³•                              |
| ------------------------------------------------ | -------------------------- | ------------------------------------- |
| `src/analysis/f1_score.py`                       | F1 ã‚¹ã‚³ã‚¢ã«ã‚ˆã‚‹è©•ä¾¡        | `python f1_score.py [options]`        |
| `src/analysis/result_plotting.py`                | çµæœã®æ•£å¸ƒå›³ãƒ—ãƒ­ãƒƒãƒˆ       | `python result_plotting.py`           |
| `src/preprocessing/separation_region_plotter.py` | 1 ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åˆ†é›¢é ˜åŸŸå›³ä½œæˆ | `python separation_region_plotter.py` |

### ãã®ä»–

| ãƒ•ã‚¡ã‚¤ãƒ«                            | èª¬æ˜                 | ä½¿ç”¨æ–¹æ³•                     |
| ----------------------------------- | -------------------- | ---------------------------- |
| `src/detection/change_detection.py` | å¤‰åŒ–ç‚¹æ¤œå‡ºãƒ»ç•°å¸¸æ¤œçŸ¥ | `python change_detection.py` |

---

## å®Ÿè¡Œæ‰‹é †ï¼ˆè©³ç´°ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ‡ãƒ¼ã‚¿åé›†

```bash
cd data/makedata
python plasma_data_collector.py
```

- æŒ‡å®šã•ã‚ŒãŸã‚·ãƒ§ãƒƒãƒˆç•ªå·ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚µãƒ¼ãƒã‹ã‚‰åé›†
- CSV å½¢å¼ã§ä¿å­˜

### ã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
python shot_data_visualizer.py  # å€‹åˆ¥ã‚·ãƒ§ãƒƒãƒˆå¯è¦–åŒ–
python hysteresis_plotter.py    # ãƒ’ã‚¹ãƒ†ãƒªã‚·ã‚¹è§£æ
```

### ã‚¹ãƒ†ãƒƒãƒ— 3: SVM è§£æ

```bash
# æ–¹æ³•1: å€‹åˆ¥å®Ÿè¡Œ
python src/preprocessing/svm_exhaustive_search.py 20240923 1

# æ–¹æ³•2: ä¸€æ‹¬å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
cd config
make run 20240923
```

### ã‚¹ãƒ†ãƒƒãƒ— 4: çµæœè©•ä¾¡

```bash
# F1ã‚¹ã‚³ã‚¢è¨ˆç®—
python src/analysis/f1_score.py -d 20240923

# çµæœå¯è¦–åŒ–
python src/analysis/result_plotting.py

# åˆ†é›¢é ˜åŸŸå›³
python src/preprocessing/separation_region_plotter.py
```

### ã‚¹ãƒ†ãƒƒãƒ— 5: å¤‰åŒ–ç‚¹æ¤œå‡ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
python src/detection/change_detection.py
```

---

## æ³¨æ„äº‹é …

- å„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œå‰ã«ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãŒ`./outputs/results/[DATE]/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
- æ—¥ä»˜å½¢å¼ã¯`YYYYMMDD`å½¢å¼ã§æŒ‡å®šã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š20240923ï¼‰
- Makefile ã‚’ä½¿ç”¨ã—ãŸä¸€æ‹¬å®Ÿè¡Œã‚’æ¨å¥¨ã—ã¾ã™
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ K ã¯ 1~14 ã®ç¯„å›²ã§æŒ‡å®šã—ã¦ãã ã•ã„

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ImportError**: `pip install -r requirements.txt`ã§ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. **ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„**: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã¨å­˜åœ¨ã‚’ç¢ºèª
3. **ãƒ¡ãƒ¢ãƒªã‚¨ãƒ©ãƒ¼**: ã‚ˆã‚Šå°ã•ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§å®Ÿè¡Œã‚’è©¦è¡Œ

### ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€ä»¥ä¸‹ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ï¼š

- Email: maesawa-yuta436@g.ecc.u-tokyo.ac.jp

---

## ä½œæˆè€…

- **åå‰**: å‰æ¾¤ ä½‘å¤ª
- **æ‰€å±**: æ±äº¬å¤§å­¦å·¥å­¦éƒ¨ã‚·ã‚¹ãƒ†ãƒ å‰µæˆå­¦ç§‘ E&E ã‚³ãƒ¼ã‚¹ å±±ç”°ç ”ç©¶å®¤
- **Email**: maesawa-yuta436@g.ecc.u-tokyo.ac.jp
- **LinkedIn**: [å‰æ¾¤ ä½‘å¤ª](https://www.linkedin.com/in/yuta-maesawa/)

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹è©³ç´°ãªä½¿ç”¨æ¡ä»¶ã«ã¤ã„ã¦ã¯ã€ä½œæˆè€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚

---

## è²¢çŒ®

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®ã¯æ­“è¿ã—ã¾ã™ã€‚ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½ææ¡ˆã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãªã©ã‚’ã”è‡ªç”±ã«ãŠå¯„ã›ãã ã•ã„ã€‚

**English documentation is available in `docs/README_EN.md`**
